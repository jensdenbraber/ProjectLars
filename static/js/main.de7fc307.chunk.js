(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{126:function(e,t,n){},127:function(e,t,n){},132:function(e,t){},134:function(e,t){},150:function(e,t){},152:function(e,t){},177:function(e,t){},178:function(e,t){},193:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(110),s=n.n(o),l=(n(126),n(10)),i=(n(127),n(80)),r=n.n(i),u=(n(194),n(28)),b=n(221),j=n(223),f=n(213),O=n(220),d=n(6),h=function(e){var t=e.mqttSub,n=e.payload,a={topic:"camper/sensors/watertanklevels/48:3f:da:c:74:fe/out",qos:0};Object(c.useEffect)((function(){t(a)}));var o=Object(c.useState)(null),s=Object(l.a)(o,2),i=s[0],r=s[1],u=Object(c.useState)(100),b=Object(l.a)(u,2),j=b[0],f=b[1];Object(c.useEffect)((function(){if(n.topic&&n.message){var e=JSON.parse(n.message);console.log("Grat water level: "+e.waterlevel),f(e.waterlevel),r(n)}}),[n]),Object(c.useEffect)((function(){console.log(i)}),[i]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O.a,{style:{minHeight:"100%"},onChange:function(e,t){console.log("handleSliderChange: "+t),f(t)},"aria-label":"Always visible",defaultValue:j,orientation:"vertical",step:1,value:j}),Object(d.jsxs)("span",{children:["Gray ",j," %"]})]})},g=function(e){var t=e.mqttSub,n=e.payload,a={topic:"camper/sensors/watertanklevels/48:3f:da:c:74:fe/out",qos:0};Object(c.useEffect)((function(){t(a)}));var o=Object(c.useState)(null),s=Object(l.a)(o,2),i=s[0],r=s[1],u=Object(c.useState)(100),b=Object(l.a)(u,2),j=b[0],f=b[1];Object(c.useEffect)((function(){if(n.topic&&n.message){var e=JSON.parse(n.message);console.log("clean water level: "+e.waterlevel),f(e.waterlevel),r(n)}}),[n]),Object(c.useEffect)((function(){console.log(i)}),[i]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O.a,{style:{minHeight:"100%"},onChange:function(e,t){console.log("handleSliderChange: "+t),f(t)},"aria-label":"Always visible",defaultValue:j,orientation:"vertical",step:1,value:j}),Object(d.jsxs)("span",{children:["Clean ",j," %"]})]})},m=n(219);function p(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"fixed",style:{zindex:10,top:e.top,left:e.left,width:e.width,height:e.height,backgroundColor:e.backgroundColor},children:e.icon?Object(d.jsx)(d.Fragment,{children:e.icon}):Object(d.jsx)(d.Fragment,{})}),Object(d.jsx)("div",{className:"fixed",onClick:e.action,style:{zindex:10,top:e.top,left:e.left,width:e.width,height:e.height,backgroundColor:e.backgroundColor},children:e.children}),Object(d.jsx)("div",{className:"fixed",onClick:e.action,style:{zindex:10,top:e.top,left:e.left,width:e.width,height:e.height,backgroundColor:e.backgroundColor},children:Object(d.jsx)(m.a,{variant:"outlined",style:{minHeight:"100%",minWidth:"100%"},children:e.buttonChildren})})]})}var v=function(e){var t=e.mqttSub,n=e.payload;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(p,{top:"60%",left:"35%",width:"13%",height:"30%",icon:Object(d.jsx)(f.a,{style:{fill:"blue"},className:"full-screen"}),children:[Object(d.jsx)(g,{mqttSub:t,payload:n}),Object(d.jsx)(h,{mqttSub:t,payload:n})]})})},x=n(214),S=function(e){var t=e.mqttSub,n=e.payload,a={topic:"camper/sensors/watertanklevels/48:3f:da:c:74:fe/out",qos:0};Object(c.useEffect)((function(){t(a)}));var o=Object(c.useState)(null),s=Object(l.a)(o,2),i=s[0],r=s[1],u=Object(c.useState)(100),b=Object(l.a)(u,2),j=b[0],f=b[1];Object(c.useEffect)((function(){if(n.topic&&n.message){var e=JSON.parse(n.message);console.log("clean water level: "+e.waterlevel),f(e.waterlevel),r(n)}}),[n]),Object(c.useEffect)((function(){console.log(i)}),[i]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O.a,{style:{minHeight:"100%"},onChange:function(e,t){console.log("handleSliderChange: "+t),f(t)},"aria-label":"Always visible",defaultValue:j,orientation:"vertical",step:1,value:j}),Object(d.jsxs)("span",{children:["House hold battery ",j," %"]})]})},w=function(e){var t=e.mqttSub,n=e.payload,a={topic:"camper/sensors/watertanklevels/48:3f:da:c:74:fe/out",qos:0};Object(c.useEffect)((function(){t(a)}));var o=Object(c.useState)(null),s=Object(l.a)(o,2),i=s[0],r=s[1],u=Object(c.useState)(100),b=Object(l.a)(u,2),j=b[0],f=b[1];Object(c.useEffect)((function(){if(n.topic&&n.message){var e=JSON.parse(n.message);console.log("clean water level: "+e.waterlevel),f(e.waterlevel),r(n)}}),[n]),Object(c.useEffect)((function(){console.log(i)}),[i]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(O.a,{style:{minHeight:"100%"},onChange:function(e,t){console.log("handleSliderChange: "+t),f(t)},"aria-label":"Always visible",defaultValue:j,orientation:"vertical",step:1,value:j}),Object(d.jsxs)("span",{children:["Starting battery ",j," %"]})]})},y=function(e){var t=e.mqttSub,n=e.payload;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(p,{top:"60%",left:"20%",width:"13%",height:"30%",icon:Object(d.jsx)(x.a,{style:{fill:"purple"},className:"full-screen"}),children:[Object(d.jsx)(w,{mqttSub:t,payload:n}),Object(d.jsx)(S,{mqttSub:t,payload:n})]})})},q=n(215);var C=function(e){var t=e.mqttSub,n=(e.mqttPublish,e.payload),o={topic:"camper/sensors/watertanklevels/48:3f:da:c:74:fe/out",qos:0};Object(c.useEffect)((function(){t(o)}));var s=Object(c.useState)(null),i=Object(l.a)(s,2),r=i[0],u=i[1];Object(c.useEffect)((function(){if(n.topic&&n.message){var e=JSON.parse(n.message);console.log("Boiler status: "+e.waterlevel),u(n)}}),[n]),Object(c.useEffect)((function(){console.log(r)}),[r]);var b=a.a.useState(!1),j=Object(l.a)(b,2),f=(j[0],j[1]);return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(p,{top:"60%",left:"65%",width:"13%",height:"30%",action:function(){return f(!0)},icon:Object(d.jsx)(q.a,{style:{fill:"yellow"},className:"full-screen"})})})},E=n(216),k=function(e){var t=e.mqttSub,n=(e.unSub,e.showUnsub,e.payload),a={topic:"camper/sensors/watertanklevels/48:3f:da:c:74:fe/out",qos:0};Object(c.useEffect)((function(){t(a)}));var o=Object(c.useState)(null),s=Object(l.a)(o,2),i=s[0],r=s[1],u=Object(c.useState)(100),b=Object(l.a)(u,2),j=b[0],f=b[1];Object(c.useEffect)((function(){if(n.topic&&n.message){var e=JSON.parse(n.message);console.log("clean water level: "+e.waterlevel),f(e.waterlevel),r(n)}}),[n]),Object(c.useEffect)((function(){console.log(i)}),[i]);return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)(p,{top:"60%",left:"50%",width:"13%",height:"30%",icon:Object(d.jsx)(E.a,{style:{fill:"orange"},className:"full-screen"}),children:[Object(d.jsx)(O.a,{style:{minHeight:"100%"},onChange:function(e,t){console.log("handleSliderChange: "+t),f(t)},"aria-label":"Always visible",defaultValue:j,orientation:"vertical",step:1,value:j}),Object(d.jsxs)("span",{children:["Gas ",j," %"]})]})})},F=n(112),N=n.n(F),H=n(217),P=n(218);var J=function(e){var t=e.mqttSub,n=e.mqttPublish,c=(e.unSub,e.showUnsub,e.payload);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(p,{top:"60%",left:"5%",width:"13%",height:"30%",icon:Object(d.jsx)(H.a,{className:"full-screen"}),action:function(){alert("Leetsource")},children:"Home"}),Object(d.jsx)(y,{mqttSub:t,mqttPublish:n,payload:c}),Object(d.jsx)(v,{mqttSub:t,payload:c}),Object(d.jsx)(k,{mqttSub:t,payload:c}),Object(d.jsx)(C,{mqttSub:t,mqttPublish:n,payload:c}),Object(d.jsx)(p,{top:"60%",left:"80%",width:"13%",height:"30%",icon:Object(d.jsx)(P.a,{className:"full-screen"}),children:"Power on/off"}),Object(d.jsx)(p,{top:"5%",left:"80%",width:"13%",height:"15%",buttonChildren:Object(d.jsx)(d.Fragment,{children:N()(new Date).format("D MMMM HH:mm")})})]})};function A(e){var t=Object(b.a)("/Truck_test.glb").scene;return Object(d.jsx)("primitive",{object:t})}var M=function(){var e=Object(c.useState)("Connect"),t=Object(l.a)(e,2),n=t[0],o=t[1],s=Object(c.useState)({}),i=Object(l.a)(s,2),b=i[0],f=i[1],O=Object(c.useState)([]),h=Object(l.a)(O,2),g=(h[0],h[1],Object(c.useState)(null)),m=Object(l.a)(g,2),p=m[0],v=m[1],x=a.a.useState(30),S=Object(l.a)(x,2),w=(S[0],S[1],a.a.useState({position:[-10,15,15],fov:50})),y=Object(l.a)(w,2);y[0],y[1],Object(c.useEffect)((function(){v(r.a.connect("ws://192.168.68.53:9001"))}),[]),Object(c.useEffect)((function(){p&&(p.on("connect",(function(){o("Connected")})),p.on("error",(function(e){console.error("Connection error: ",e),p.end()})),p.on("reconnect",(function(){o("Reconnecting")})),p.on("message",(function(e,t){var n={topic:e,message:t.toString()};f(n)})))}),[p]);var q=Object(c.useState)({position:[-10,15,15],fov:50}),C=Object(l.a)(q,2),E=(C[0],C[1],Object(c.useState)(0)),k=Object(l.a)(E,2),F=k[0],N=(k[1],Object(c.useState)(10)),H=Object(l.a)(N,2),P=H[0],M=(H[1],Object(c.useState)(10)),V=Object(l.a)(M,2),z=V[0];return V[1],Object(c.useEffect)((function(){console.log("Camera value changed to: "+F)}),[F]),Object(c.useEffect)((function(){console.log("connectionStatus: "+n)}),[n]),Object(c.useEffect)((function(){console.log("connectionStatus: "+F)}),[u.a]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"fixed",style:{zindex:6,top:"0%",left:"0%",width:"85%",height:"70%"},children:Object(d.jsxs)(u.a,{className:"box",pixelRatio:[1,2],camera:{position:[F,P,z],fov:50},children:[Object(d.jsx)("ambientLight",{intensity:.5}),Object(d.jsx)(c.Suspense,{fallback:null,children:Object(d.jsx)(A,{})}),Object(d.jsx)(j.a,{enableZoom:!1,rotateSpeed:2,autoRotateSpeed:5})]})}),Object(d.jsx)(J,{className:"overlay",mqttSub:function(e){if(p){var t=e.topic,n=e.qos;p.subscribe(t,{qos:n},(function(e){e&&console.log("Subscribe to topics error",e)}))}},mqttPublish:function(e){if(p){var t=e.topic,n=e.qos,c=e.payload;p.publish(t,c,{qos:n},(function(e){e&&console.log("Publish error: ",e)}))}},mqttUnSub:function(e){if(p){var t=e.topic;p.unsubscribe(t,(function(e){e&&console.log("Unsubscribe error",e)}))}},mqttDisconnect:function(){p&&p.end((function(){o("Connect")}))},payload:b})]})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,225)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),o(e),s(e)}))};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(M,{})}),document.getElementById("root")),V()}},[[193,1,2]]]);
//# sourceMappingURL=main.de7fc307.chunk.js.map